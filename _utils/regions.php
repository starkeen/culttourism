<?php

error_reporting(E_ALL);

header('Content-Type: text/html; charset=utf-8');
include(realpath(dirname(__FILE__) . '/../config/configuration.php'));
include(_DIR_ROOT . '/includes/class.myDB.php');
include(_DIR_ROOT . '/includes/class.mySmarty.php');
include(_DIR_ROOT . '/includes/class.Logging.php');
include(_DIR_ROOT . '/includes/debug.php');

include(_DIR_INCLUDES . '/class.Helper.php');
spl_autoload_register('Helper::autoloader');

$db = new MyDB(DB_HOSTNAME, DB_USERNAME, DB_PASSWORD, DB_BASENAME, DB_PREFIX);

$dbc = $db->getTableName('pagecity');

$json = '{"51490":{"id":51490,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Московская область","index":36,"property":{"geoNamesId":524925,"iso3166":"RU-MOS"},"wikipedia":"ru:Московская_область"},"60189":{"id":60189,"level":2,"name":"Россия","feature":true,"index":85,"property":{"geoNamesId":2017370,"iso3166":"RU"},"wikipedia":"ru:Россия"},"71950":{"id":71950,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Рязанская область","index":20,"property":{"geoNamesId":500059,"iso3166":"RU-RYA"},"wikipedia":"ru:Рязанская_область"},"72169":{"id":72169,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Липецкая область","index":11,"property":{"geoNamesId":535120,"iso3166":"RU-LIP"},"wikipedia":"ru:Липецкая_область"},"72180":{"id":72180,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Тамбовская область","index":15,"property":{"geoNamesId":484638,"iso3166":"RU-TAM"},"wikipedia":"ru:Тамбовская_область"},"72181":{"id":72181,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Воронежская область","index":31,"property":{"geoNamesId":472039,"iso3166":"RU-VOR"},"wikipedia":"ru:Воронежская_область"},"72182":{"id":72182,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Пензенская область","index":28,"property":{"geoNamesId":511555,"iso3166":"RU-PNZ"},"wikipedia":"ru:Пензенская_область"},"72192":{"id":72192,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Ульяновская область","index":29,"property":{"geoNamesId":479119,"iso3166":"RU-ULY"},"wikipedia":"ru:Ульяновская_область"},"72193":{"id":72193,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Саратовская область","index":53,"property":{"geoNamesId":498671,"iso3166":"RU-SAR"},"wikipedia":"ru:Саратовская_область"},"72194":{"id":72194,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Самарская область","index":34,"property":{"geoNamesId":499068,"iso3166":"RU-SAM"},"wikipedia":"ru:Самарская_область"},"72195":{"id":72195,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Нижегородская область","index":45,"property":{"geoNamesId":559838,"iso3166":"RU-NIZ"},"wikipedia":"ru:Нижегородская_область"},"72196":{"id":72196,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Мордовия","index":22,"property":{"geoNamesId":525369,"iso3166":"RU-MO"},"wikipedia":"ru:Мордовия"},"72197":{"id":72197,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Владимирская область","index":26,"property":{"geoNamesId":826294,"iso3166":"RU-VLA"},"wikipedia":"ru:Владимирская_область"},"72223":{"id":72223,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Курская область","index":18,"property":{"geoNamesId":538555,"iso3166":"RU-KRS"},"wikipedia":"ru:Курская_область"},"72224":{"id":72224,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Орловская область","index":13,"property":{"geoNamesId":514801,"iso3166":"RU-ORL"},"wikipedia":"ru:Орловская_область"},"72639":{"id":72639,"level":4,"parents":[{"id":60199,"delta":-2}],"name":"Республика Крым","index":27,"property":{"geoNamesId":703883,"iso3166":"UA-43"},"wikipedia":"ru:Республика_Крым"},"77665":{"id":77665,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1059500,"delta":-1}],"name":"Волгоградская область","index":48,"property":{"geoNamesId":472755,"iso3166":"RU-VGG"},"wikipedia":"ru:Волгоградская_область"},"77669":{"id":77669,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Оренбургская область","index":62,"property":{"geoNamesId":515001,"iso3166":"RU-ORE"},"wikipedia":"ru:Оренбургская_область"},"77677":{"id":77677,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Башкортостан","index":54,"property":{"geoNamesId":578853,"iso3166":"RU-BA"},"wikipedia":"ru:Башкортостан"},"77687":{"id":77687,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1113276,"delta":-1}],"name":"Челябинская область","index":50,"property":{"geoNamesId":1508290,"iso3166":"RU-CHE"},"wikipedia":"ru:Челябинская_область"},"79374":{"id":79374,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Татарстан","index":46,"property":{"geoNamesId":484048,"iso3166":"RU-TA"},"wikipedia":"ru:Татарстан"},"79379":{"id":79379,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1113276,"delta":-1}],"name":"Свердловская область","index":63,"property":{"geoNamesId":1490542,"iso3166":"RU-SVE"},"wikipedia":"ru:Свердловская_область"},"80513":{"id":80513,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Чувашия","index":9,"property":{"geoNamesId":567395,"iso3166":"RU-CU"},"wikipedia":"ru:Чувашия"},"81993":{"id":81993,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Тульская область","index":12,"property":{"geoNamesId":480508,"iso3166":"RU-TUL"},"wikipedia":"ru:Тульская_область"},"81994":{"id":81994,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Ярославская область","index":24,"property":{"geoNamesId":468898,"iso3166":"RU-YAR"},"wikipedia":"ru:Ярославская_область"},"81995":{"id":81995,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Калужская область","index":17,"property":{"geoNamesId":553899,"iso3166":"RU-KLU"},"wikipedia":"ru:Калужская_область"},"81996":{"id":81996,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Смоленская область","index":30,"property":{"geoNamesId":491684,"iso3166":"RU-SMO"},"wikipedia":"ru:Смоленская_область"},"81997":{"id":81997,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Брянская область","index":23,"property":{"geoNamesId":571473,"iso3166":"RU-BRY"},"wikipedia":"ru:Брянская_область"},"83184":{"id":83184,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Белгородская область","index":16,"property":{"geoNamesId":578071,"iso3166":"RU-BEL"},"wikipedia":"ru:Белгородская_область"},"85606":{"id":85606,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1059500,"delta":-1}],"name":"Ростовская область","index":49,"property":{"geoNamesId":501165,"iso3166":"RU-ROS"},"wikipedia":"ru:Ростовская_область"},"85617":{"id":85617,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Ивановская область","index":14,"property":{"geoNamesId":555235,"iso3166":"RU-IVA"},"wikipedia":"ru:Ивановская_область"},"85963":{"id":85963,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Костромская область","index":43,"property":{"geoNamesId":543871,"iso3166":"RU-KOS"},"wikipedia":"ru:Костромская_область"},"89331":{"id":89331,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1216601,"delta":-1}],"name":"Новгородская область","index":40,"property":{"geoNamesId":519324,"iso3166":"RU-NGR"},"wikipedia":"ru:Новгородская_область"},"102269":{"id":102269,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Москва","index":3,"property":{"geoNamesId":524894,"iso3166":"RU-MOW"},"wikipedia":"ru:Москва"},"103906":{"id":103906,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1216601,"delta":-1}],"name":"Калининградская область","index":10,"property":{"geoNamesId":554230,"iso3166":"RU-KGD"},"wikipedia":"ru:Калининградская_область"},"108081":{"id":108081,"level":4,"parents":[{"id":60189,"delta":-2},{"id":389344,"delta":-1}],"name":"Ставропольский край","index":32,"property":{"geoNamesId":487839,"iso3166":"RU-STA"},"wikipedia":"ru:Ставропольский_край"},"108082":{"id":108082,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1059500,"delta":-1}],"name":"Краснодарский край","index":39,"property":{"geoNamesId":542415,"iso3166":"RU-KDA"},"wikipedia":"ru:Краснодарский_край"},"108083":{"id":108083,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1059500,"delta":-1}],"name":"Калмыкия","index":47,"property":{"geoNamesId":553972,"iso3166":"RU-KL"},"wikipedia":"ru:Калмыкия"},"109876":{"id":109876,"level":4,"parents":[{"id":60189,"delta":-2},{"id":389344,"delta":-1}],"name":"Дагестан","index":33,"property":{"geoNamesId":567293,"iso3166":"RU-DA"},"wikipedia":"ru:Дагестан"},"109877":{"id":109877,"level":4,"parents":[{"id":60189,"delta":-2},{"id":389344,"delta":-1}],"name":"Чечня","index":7,"property":{"geoNamesId":569665,"iso3166":"RU-CE"},"wikipedia":"ru:Чечня"},"109878":{"id":109878,"level":4,"parents":[{"id":60189,"delta":-2},{"id":389344,"delta":-1}],"name":"Карачаево-Черкесия","index":6,"property":{"geoNamesId":552927,"iso3166":"RU-KC"},"wikipedia":"ru:Карачаево-Черкесия"},"109879":{"id":109879,"level":4,"parents":[{"id":60189,"delta":-2},{"id":389344,"delta":-1}],"name":"Кабардино-Балкария","index":5,"property":{"geoNamesId":554667,"iso3166":"RU-KB"},"wikipedia":"ru:Кабардино-Балкария"},"110032":{"id":110032,"level":4,"parents":[{"id":60189,"delta":-2},{"id":389344,"delta":-1}],"name":"Северная Осетия","index":4,"property":{"geoNamesId":519969,"iso3166":"RU-SE"},"wikipedia":"ru:Северная_Осетия"},"112819":{"id":112819,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1059500,"delta":-1}],"name":"Астраханская область","index":38,"property":{"geoNamesId":580491,"iso3166":"RU-AST"},"wikipedia":"ru:Астраханская_область"},"115100":{"id":115100,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Кировская область","index":56,"property":{"geoNamesId":548389,"iso3166":"RU-KIR"},"wikipedia":"ru:Кировская_область"},"115106":{"id":115106,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1216601,"delta":-1}],"name":"Вологодская область","index":66,"property":{"geoNamesId":472454,"iso3166":"RU-VLG"},"wikipedia":"ru:Вологодская_область"},"115114":{"id":115114,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Марий Эл","index":21,"property":{"geoNamesId":529352,"iso3166":"RU-ME"},"wikipedia":"ru:Марий_Эл"},"115134":{"id":115134,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Удмуртия","index":19,"property":{"geoNamesId":479613,"iso3166":"RU-UD"},"wikipedia":"ru:Удмуртия"},"115135":{"id":115135,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1075831,"delta":-1}],"name":"Пермский край","index":58,"property":{"geoNamesId":511180,"iso3166":"RU-PER"},"wikipedia":"ru:Пермский_край"},"115136":{"id":115136,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1216601,"delta":-1}],"name":"Республика Коми","index":75,"property":{"geoNamesId":545854,"iso3166":"RU-KO"},"wikipedia":"ru:Республика_Коми"},"140290":{"id":140290,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1113276,"delta":-1}],"name":"Курганская область","index":41,"property":{"geoNamesId":1501312,"iso3166":"RU-KGN"},"wikipedia":"ru:Курганская_область"},"140291":{"id":140291,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1113276,"delta":-1}],"name":"Тюменская область","index":65,"property":{"geoNamesId":1488747,"iso3166":"RU-TYU"},"wikipedia":"ru:Тюменская_область"},"140292":{"id":140292,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221148,"delta":-1}],"name":"Омская область","index":52,"property":{"geoNamesId":1496152,"iso3166":"RU-OMS"},"wikipedia":"ru:Омская_область"},"140294":{"id":140294,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221148,"delta":-1}],"name":"Новосибирская область","index":59,"property":{"geoNamesId":1496745,"iso3166":"RU-NVS"},"wikipedia":"ru:Новосибирская_область"},"140295":{"id":140295,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221148,"delta":-1}],"name":"Томская область","index":68,"property":{"geoNamesId":1489421,"iso3166":"RU-TOM"},"wikipedia":"ru:Томская_область"},"140296":{"id":140296,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1113276,"delta":-1}],"name":"Ханты-Мансийский автономный округ — Югра","index":78,"property":{"geoNamesId":1503773,"iso3166":"RU-KHM"},"wikipedia":"ru:Ханты-Мансийский_автономный_округ_—_Югра"},"140337":{"id":140337,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1216601,"delta":-1}],"name":"Архангельская область","index":82,"property":{"geoNamesId":581043,"iso3166":"RU-ARK"},"wikipedia":"ru:Архангельская_область"},"144763":{"id":144763,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221148,"delta":-1}],"name":"Кемеровская область","index":44,"property":{"geoNamesId":1503900,"iso3166":"RU-KEM"},"wikipedia":"ru:Кемеровская_область"},"144764":{"id":144764,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221148,"delta":-1}],"name":"Алтайский край","index":57,"property":{"geoNamesId":1511732,"iso3166":"RU-ALT"},"wikipedia":"ru:Алтайский_край"},"145194":{"id":145194,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221148,"delta":-1}],"name":"Республика Алтай","index":42,"property":{"geoNamesId":1506272,"iso3166":"RU-AL"},"wikipedia":"ru:Республика_Алтай"},"145195":{"id":145195,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221148,"delta":-1}],"name":"Тыва","index":60,"property":{"geoNamesId":1488873,"iso3166":"RU-TY"},"wikipedia":"ru:Тыва"},"145454":{"id":145454,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221148,"delta":-1}],"name":"Иркутская область","index":80,"property":{"geoNamesId":2023468,"iso3166":"RU-IRK"},"wikipedia":"ru:Иркутская_область"},"145729":{"id":145729,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221148,"delta":-1}],"name":"Бурятия","index":71,"property":{"geoNamesId":2050915,"iso3166":"RU-BU"},"wikipedia":"ru:Бурятия"},"145730":{"id":145730,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221148,"delta":-1}],"name":"Забайкальский край","index":70,"property":{"geoNamesId":7779061,"iso3166":"RU-ZAB"},"wikipedia":"ru:Забайкальский_край"},"147166":{"id":147166,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221185,"delta":-1}],"name":"Амурская область","index":69,"property":{"geoNamesId":2027748,"iso3166":"RU-AMU"},"wikipedia":"ru:Амурская_область"},"147167":{"id":147167,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221185,"delta":-1}],"name":"Еврейская автономная область","index":25,"property":{"geoNamesId":2026639,"iso3166":"RU-YEV"},"wikipedia":"ru:Еврейская_автономная_область"},"151223":{"id":151223,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221185,"delta":-1}],"name":"Хабаровский край","index":76,"property":{"geoNamesId":2022888,"iso3166":"RU-KHA"},"wikipedia":"ru:Хабаровский_край"},"151225":{"id":151225,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221185,"delta":-1}],"name":"Приморский край","index":64,"property":{"geoNamesId":2017623,"iso3166":"RU-PRI"},"wikipedia":"ru:Приморский_край"},"151228":{"id":151228,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221185,"delta":-1}],"name":"Магаданская область","index":72,"property":{"geoNamesId":2123627,"iso3166":"RU-MAG"},"wikipedia":"ru:Магаданская_область"},"151231":{"id":151231,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221185,"delta":-1}],"name":"Чукотский автономный округ","index":81,"property":{"geoNamesId":2126099,"iso3166":"RU-CHU"},"wikipedia":"ru:Чукотский_автономный_округ"},"151233":{"id":151233,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221185,"delta":-1}],"name":"Камчатский край","index":77,"property":{"geoNamesId":2125072,"iso3166":"RU-KAM"},"wikipedia":"ru:Камчатский_край"},"151234":{"id":151234,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221185,"delta":-1}],"name":"Якутия","index":84,"property":{"geoNamesId":2013162,"iso3166":"RU-SA"},"wikipedia":"ru:Якутия"},"155262":{"id":155262,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1216601,"delta":-1}],"name":"Псковская область","index":35,"property":{"geoNamesId":504338,"iso3166":"RU-PSK"},"wikipedia":"ru:Псковская_область"},"176095":{"id":176095,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1216601,"delta":-1}],"name":"Ленинградская область","index":55,"property":{"geoNamesId":536199,"iso3166":"RU-LEN"},"wikipedia":"ru:Ленинградская_область"},"190090":{"id":190090,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221148,"delta":-1}],"name":"Красноярский край","index":83,"property":{"geoNamesId":1502020,"iso3166":"RU-KYA"},"wikipedia":"ru:Красноярский_край"},"190911":{"id":190911,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221148,"delta":-1}],"name":"Хакасия","index":37,"property":{"geoNamesId":1503834,"iso3166":"RU-KK"},"wikipedia":"ru:Хакасия"},"191706":{"id":191706,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1113276,"delta":-1}],"name":"Ямало-Ненецкий автономный округ","index":79,"property":{"geoNamesId":1486462,"iso3166":"RU-YAN"},"wikipedia":"ru:Ямало-Ненецкий_автономный_округ"},"253252":{"id":253252,"level":4,"parents":[{"id":60189,"delta":-2},{"id":389344,"delta":-1}],"name":"Ингушетия","index":1,"property":{"geoNamesId":556349,"iso3166":"RU-IN"},"wikipedia":"ru:Ингушетия"},"253256":{"id":253256,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1059500,"delta":-1}],"name":"Адыгея","index":8,"property":{"geoNamesId":584222,"iso3166":"RU-AD"},"wikipedia":"ru:Адыгея"},"274048":{"id":274048,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1216601,"delta":-1}],"name":"Ненецкий автономный округ","index":74,"property":{"geoNamesId":522652,"iso3166":"RU-NEN"},"wikipedia":"ru:Ненецкий_автономный_округ"},"337422":{"id":337422,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1216601,"delta":-1}],"name":"Санкт-Петербург","index":2,"property":{"geoNamesId":536203,"iso3166":"RU-SPE"},"wikipedia":"ru:Санкт-Петербург"},"393980":{"id":393980,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1216601,"delta":-1}],"name":"Республика Карелия","index":61,"property":{"geoNamesId":552548,"iso3166":"RU-KR"},"wikipedia":"ru:Республика_Карелия"},"394235":{"id":394235,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1221185,"delta":-1}],"name":"Сахалинская область","index":73,"property":{"geoNamesId":2121529,"iso3166":"RU-SAK"},"wikipedia":"ru:Сахалинская_область"},"1574364":{"id":1574364,"level":4,"parents":[{"id":60199,"delta":-2}],"name":"Севастополь","index":0,"property":{"geoNamesId":694422,"iso3166":"UA-40"},"wikipedia":"ru:Севастополь"},"2095259":{"id":2095259,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1029256,"delta":-1}],"name":"Тверская область","index":51,"property":{"geoNamesId":480041,"iso3166":"RU-TVE"},"wikipedia":"ru:Тверская_область"},"2099216":{"id":2099216,"level":4,"parents":[{"id":60189,"delta":-2},{"id":1216601,"delta":-1}],"name":"Мурманская область","index":67,"property":{"geoNamesId":524304,"iso3166":"RU-MUR"},"wikipedia":"ru:Мурманская_область"}}';

$data = (array) json_decode($json);

foreach ($data as $item) {
    $db->sql = "UPDATE $dbc
                SET pc_osm_id = '{$item->id}'
                WHERE pc_osm_id = 0 AND pc_title = '{$item->name}'
                LIMIT 1";
    //$db->showSQL();
    $db->exec();
}
